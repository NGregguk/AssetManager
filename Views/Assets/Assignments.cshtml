@model Asset
@{
    ViewData["Title"] = "Assignment history";
}

<section class="page-header">
    <div>
        <h1>Assignment history</h1>
        <p class="muted">@Model.Name</p>
    </div>
    <div class="header-actions">
        <a class="button ghost" asp-action="Details" asp-route-id="@Model.Id">Back to asset</a>
    </div>
</section>

<div class="panel">
    <div class="timeline">
        @if (Model.Assignments.Count == 0)
        {
            <div class="empty-state">No assignments recorded.</div>
        }
        else
        {
            foreach (var item in Model.Assignments)
            {
                <div class="timeline-item">
                    <div>
                        <div class="asset-name">@item.AssignedTo</div>
                        <div class="muted">Assigned @item.AssignedDate.ToString("dd MMM yyyy")</div>
                        <div class="muted">Expected return @(item.ExpectedReturnDate?.ToString("dd MMM yyyy") ?? "Not set")</div>
                    </div>
                    <div class="muted">@(
                        item.ReturnedDate == null ? "Active" : $"Returned {item.ReturnedDate.Value:dd MMM yyyy}"
                    )</div>
                </div>
            }
        }
    </div>
</div>
