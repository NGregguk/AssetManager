@model IReadOnlyList<asset_manager.Models.GuideCategory>
@{
    ViewData["Title"] = "Guide library";
}

<section class="page-header">
    <div>
        <h1>Guide library</h1>
        <p class="muted">Browse guide sections by category.</p>
    </div>
    <div class="header-actions">
        <a class="button ghost" asp-area="Admin" asp-controller="GuideCategories" asp-action="Index">Manage categories</a>
        <a class="button" asp-area="Admin" asp-controller="Guides" asp-action="Create">Add guide</a>
    </div>
</section>

@if (Model.Count == 0)
{
    <div class="panel">
        <p class="muted">No guide categories yet.</p>
        <a class="button" asp-area="Admin" asp-controller="GuideCategories" asp-action="Create">Add category</a>
    </div>
}
else
{
    <section class="content-grid">
        @foreach (var category in Model)
        {
            <a class="panel card-link" asp-area="Admin" asp-controller="GuideLibrary" asp-action="Category" asp-route-id="@category.Id">
                <div class="panel-header">
                    <h2>@category.Name</h2>
                    <span class="pill">@category.Guides.Count guide(s)</span>
                </div>
                <p class="muted">@category.Description</p>
                <div class="text-link">View guides</div>
            </a>
        }
    </section>
}
